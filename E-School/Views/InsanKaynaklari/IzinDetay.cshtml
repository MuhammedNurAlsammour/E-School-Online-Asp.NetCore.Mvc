@{
    ViewData["Title"] = "IzinDetay";
	Layout = "~/Views/Shared/insanKaynakLayout.cshtml";
}
@section head{

	<link href="~/Content/css/filepond.css" rel="stylesheet" asp-append-version="true" />
	<link href="~/Content/vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet" asp-append-version="true">
	<link href="~/Content/vendor/jquery-nice-select/css/nice-select.css" rel="stylesheet" asp-append-version="true">
	<link href="~/Content/vendor/select2/css/select2.min.css" rel="stylesheet" asp-append-version="true" />
	<style>
		.col-form-label {
			font-size: 20px;
		}

		.select2-selection__rendered {
			line-height: 50px !important;
		}

		.select2-container .select2-selection--single {
			height: 50px !important;
		}

		.select2-selection__arrow {
			height: 50px !important;
		}

		.filepond--item-panel {
			background-color: #4fa93f;
		}

		.thh{
			text-align:center;
		}
	</style>
}

<div class="row page-titles" id="myBreadcrumb">
	<ol class="breadcrumb">
		<li class="breadcrumb-item "><a asp-controller="InsanKaynaklari" asp-action="InsanKaynaklari">İnsan Kaynakları İzinler</a></li>
		<li class="breadcrumb-item active"><a asp-controller="InsanKaynaklari" asp-action="IzinDetay">İzin Detayları</a></li>
	</ol>
</div>


<div class="row">
	<div class="col-12">
		<div class="card">
			<div class="card-header">
				<h4>Şube Seçiniz</h4>
				<div class="col-xl-4">
					<div class="d-flex">
						<div class="col-xl-8">
							<select class="default-select wide">
								<option value="All" selected="selected">Tümünü Göster</option>
								<option value="1">Mersin</option>
								<option value="2">İzmir</option>
								<option value="3">İstanbul</option>
							</select>
						</div>
					</div>
				</div>
				<div class="card-toolbar">
					<a href="#IzinEkleModal" data-bs-target="#IzinEkleModal" data-bs-toggle="modal" class="btn btn-secondary font-weight-bolder">
						<span class="svg-icon svg-icon-md">
							<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
							</svg>
						</span>İzin Ekle
					</a>
					<a href="#" class="btn btn-danger font-weight-bolder">
						<span class="svg-icon svg-icon-md">
							<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-dash-circle-fill" viewBox="0 0 16 16">
								<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z" />
							</svg>
						</span>İzin Sil
					</a>
					<a href="#" class="btn btn-dark font-weight-bolder">
						<span class="svg-icon svg-icon-md">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer-fill" viewBox="0 0 16 16">
								<path d="M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z" />
								<path d="M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z" />
							</svg>
						</span>Yazdır
					</a>
				</div>
			</div>
			<div class="card-body">
				<div class="table-responsive" >
					<table id="Izintable" class="display" style="min-width: 845px">
						<thead>
							<tr>
								<th class="thh">
									<div class="form-check custom-checkbox ms-2">
										<input type="checkbox" class="form-check-input" id="checkAll" required="">
										<label class="form-check-label" for="checkAll"></label>
									</div>
								</th>
								<th class="bas thh">Ad Soyad</th>
								<th class="thh">İzin Başlangıç Tarihi</th>
								<th class="thh">İzin Bitiş Tarihi</th>
								<th class="thh">İzin Süresi</th>
								<th class="thh">Onay Durumu</th>

								<th class="thh" style="width:8rem">Aksiyon</th>
							</tr>
						</thead>
						<tbody>
							<tr class="odd">
								<td class="thh">
									<div class="form-check custom-checkbox ms-2">
										<input type="checkbox" class="form-check-input" id="customCheckBox2" required="">
										<label class="form-check-label" for="customCheckBox2"></label>
									</div>
								</td>
								<td class="thh"><a href="#">Abdullah Köse</a></td>
								<td class="thh">02.06.2023</td>
								<td class="thh">03.06.2023</td>

								<td class="thh">1.Gün</td>
								<td class="thh">
									<span class="badge light badge-success ">Onaylandı</span>
									@*                                            <span class="badge light badge-success">Successful</span>
									<span class="badge light badge-success">Successful</span>*@



								</td>

								<td class="thh">
									<a data-bs-toggle="modal" data-bs-target="#exampleModalCenter" class="btn btn-info shadow btn-xs sharp me-1"><i class="fa fa-eye"></i></a>

									<a data-bs-toggle="modal" data-bs-target="#AciklamaModalCenter" class="btn btn-warning shadow btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
									<a class="btn btn-primary shadow btn-xs sharp me-1"><i class="fa fa-trash"></i></a>


								</td>
							</tr>

							<tr class="even">
								<td class="thh">
									<div class="form-check custom-checkbox ms-2">
										<input type="checkbox" class="form-check-input" id="customCheckBox2" required="">
										<label class="form-check-label" for="customCheckBox2"></label>
									</div>
								</td>
								<td class="thh"><a href="#">Abdullah Köse</a></td>

								<td class="thh">02.06.2023</td>
								<td class="thh">03.06.2023</td>

								<td class="thh">1.Gün</td>
								<td class="thh">
									<span class="badge light badge-danger ">Onaylanmadı</span>
									@*                                            <span class="badge light badge-success">Successful</span>
									<span class="badge light badge-success">Successful</span>*@




								</td>
								<td class="thh">
									<a data-bs-toggle="modal" data-bs-target="#exampleModalCenter" class="btn btn-info shadow btn-xs sharp me-1"><i class="fa fa-eye"></i></a>

									<a data-bs-toggle="modal" data-bs-target="#AciklamaModalCenter" class="btn btn-warning shadow btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
									<a class="btn btn-primary shadow btn-xs sharp me-1"><i class="fa fa-trash"></i></a>


								</td>
							</tr>

							<tr class="odd">
								<td class="thh">
									<div class="form-check custom-checkbox ms-2">
										<input type="checkbox" class="form-check-input" id="customCheckBox2" required="">
										<label class="form-check-label" for="customCheckBox2"></label>
									</div>
								</td>
								<td class="thh"><a href="#">Abdullah Köse</a></td>
								<td class="thh">02.06.2023</td>
								<td class="thh">03.06.2023</td>

								<td class="thh">1.Gün</td>
								<td class="thh">
									<span class="badge light badge-warning ">Onay Bekliyor</span>
									@*                                            <span class="badge light badge-success">Successful</span>
									<span class="badge light badge-success">Successful</span>*@



								</td>

								<td class="thh">
									<a data-bs-toggle="modal" data-bs-target="#exampleModalCenter" class="btn btn-info shadow btn-xs sharp me-1"><i class="fa fa-eye"></i></a>

									<a data-bs-toggle="modal" data-bs-target="#AciklamaModalCenter" class="btn btn-warning shadow btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
									<a class="btn btn-primary shadow btn-xs sharp me-1"><i class="fa fa-trash"></i></a>


								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade bd-example-modal-s" tabindex="-1" role="dialog" aria-hidden="true" id="IzinEkleModal">
	<div class="modal-dialog modal-s">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">İzin Giriş Penceresi</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal">
				</button>
			</div>
@*			Özür dilerim, acaba neden izin alıyorsunuz?
*@			<div class="modal-body">
				<div class="basic-form">
					<form action="#" id="IzinEkleForm" method="post">
						@Html.AntiForgeryToken()


						<div class="mb-3 row">
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Personel Seçiniz</label>
							<div class="col-sm-8">
								<select class="form-control" id="PersonelArama" name="PersonelId" required>
									<option>Personel Seçiniz</option>
									<option>Selçuk Keskin</option>
									<option>Mustafa Bey</option>

								</select>
							</div>
						</div>

						<div class="mb-3 row">
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Başlangıç Günü</label>
							<div class="col-sm-8">
								<input class="form-control input-daterange-datepicker" type="datetime-local" id="daterange" name="daterange" value="" data-old-val="">
							</div>
						</div>

						<div class="mb-3 row">
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Bitiş Günü</label>
							<div class="col-sm-8">
								<input class="form-control input-daterange-datepicker" type="datetime-local" id="daterange" name="daterange" value="" data-old-val="">
							</div>
						</div>

						<div class="mb-3 row" >
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Gün Türü</label>
							<div class="col-sm-8">
								<select class="form-control" id="IzınTuru1" name="IzınTuru1Id" required>
									<option>Yarım Gün</option>
									<option>Tam Gün</option>
								</select>
							</div>
						</div>
						
					
						<div class="mb-3 row">
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Ücret Türü </label>
							<div class="col-sm-8">
								<select class="form-control" id="IzınTuru2" name="IzınTuru2Id" required>
									<option>Ücretli</option>
									<option>Ücretsiz</option>
								</select>
							</div>
						</div>
						
						<div class="mb-3 row">
							<label class="col-sm-4 col-form-label" style="font-size:12.25px;">Açıklama <span style="font-size:7px; display:block;">Gerekli Değil</span></label>
							<div class="col-sm-8">
								<textarea class="form-control" rows="4" type="text"  name="Aciklama" required maxlength="300"></textarea>
								
							</div>
						</div>


					</form>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-success" id="btnSubmit">Kaydet</button>

				<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Kapat</button>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="exampleModalCenter">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Açıklama</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal">
				</button>
			</div>
			<div class="modal-body">
				<p>iyi çalişin</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Kapat</button>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="AciklamaModalCenter">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Açıklama Penceresi</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal">
				</button>
			</div>
			<div class="modal-body">
				<div class="basic-form">
					<form action="#" id="AciklamaEkleForm" method="post">
						@Html.AntiForgeryToken()




						<div class="mb-3 row">
							<div class="col-sm-12">
								<textarea class="form-control" rows="4" type="text" name="Aciklama" required maxlength="300"></textarea>

							</div>
						</div>
						<div class="row" style="justify-content:center;">

							<div class="col-xl-4" >
								<div class="form-check custom-checkbox mb-3 checkbox-secondary ">
									<input type="radio" class="form-check-input" id="customRadioBox1" name="optradioCustom">
									<label class="form-check-label" for="customRadioBox1">Onaylandı</label>
								</div>
							</div>
							<div class="col-xl-4  ">
								<div class="form-check custom-checkbox mb-3 checkbox-primary ">
									<input type="radio" class="form-check-input" id="customRadioBox2" name="optradioCustom ">
									<label class="form-check-label" for="customRadioBox2">Onaylanmadı</label>
								</div>
							</div>
						</div>


					</form>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-success" id="btnSubmit">Kaydet</button>

				<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Kapat</button>
			</div>
		</div>
	</div>
</div>
@section scripts{

	<script src="~/Content/js/filepond.js" asp-append-version="true"></script>
	<script src="~/Content/vendor/datatables/js/jquery.dataTables.min.js" asp-append-version="true"></script>
	<script src="~/Content/vendor/jquery-nice-select/js/jquery.nice-select.min.js" asp-append-version="true"></script>
	<script src="~/Content/vendor/select2/js/select2.full.min.js" asp-append-version="true"></script>
    <script>

		$(document).ready(function () {
			var mycrumb = $("#myBreadcrumb");
			$("#previousBreadcrumb").before(mycrumb);

			var table = $('#Izintable').DataTable({
				searching: true,
				paging: true,
				select: false,
				info: false,
				lengthChange: false,
				language: {
					paginate: {
						next: '<i class="fa fa-angle-double-right" aria-hidden="true"></i>',
						previous: '<i class="fa fa-angle-double-left" aria-hidden="true"></i>'
					}
				}
			});
		})
		$(document).ready(function () {
			$("#IzınTuru1").select2({
				dropdownParent: $('#IzinEkleModal')
			});
			$("#PersonelArama").select2({
				dropdownParent: $('#IzinEkleModal')
			});
			$("#IzınTuru2").select2({
				dropdownParent: $('#IzinEkleModal')
			});
	
			$("#IzinEkleForm").submit(function (e) {
				e.preventDefault();
				var fd = new FormData(this);
				pondFiles = pond.getFiles();
				for (var i = 0; i < pondFiles.length; i++) {
					fd.append('filepond', pondFiles[i].file);
				}
				$.ajax({
					url: '/Kutuphane/TestUpload',
					type: 'POST',
					data: fd,
					dataType: 'JSON',
					contentType: false,
					cache: false,
					processData: false,
					success: function (data) {
					},
					error: function (data) {
					}
				}
				);
			});
		})
	</script>
}

